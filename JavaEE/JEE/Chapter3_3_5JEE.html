<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Learning</title>
    
    <link rel="stylesheet" href="../Resources/Bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../Resources/CSS/lessonpagesCSS.css">


</head>
<body>
    <header class="navbar navbar-expand-lg navbar-light">
        <div class="container d-flex justify-content-between align-items-center">
            <a href="../Index.html"><h1 class="site-name">Mon Apprentissage Interactif</h1></a>
            <nav>
                <ul class="navbar-nav justify-content-center">
                    <li class="nav-item">
                        <a class="nav-link text-purple" href="Chapter1_1JEE.html">Java Enterpirse Edition</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../../Algorithmique Et C/asd&C/Chpater1_1asd&C.html">Adaptive Software Development & Programation C</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container mt-4">
        <div class="row">
                                    <aside class="col-md-3">
                <div class="sidebar">
                <div class="list-group">
                    <a href="#chapter1" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter1Menu" data-chapter="chapter1">
                        Chapitre 1
                    </a>
                    <div class="collapse chapter-menu" id="chapter1Menu">
                        <a href="Chapter1_1JEE.html" class="list-group-item list-group-item-action">Présentation générale</a>
                        <a href="Chapter1_2JEE.html" class="list-group-item list-group-item-action">L'architecture 1-tiers</a>
                        <a href="Chapter1_3JEE.html" class="list-group-item list-group-item-action">L'architecture 2-tiers</a>
                        <a href="Chapter1_4JEE.html" class="list-group-item list-group-item-action">L'architecture 3-tiers</a>
                        <a href="Chapter1_5JEE.html" class="list-group-item list-group-item-action">L'architecture N-tiers</a>
                        <a href="Chapter1_Quiz.html" class="list-group-item list-group-item-action">Quiz</a>
                    </div>
                    <a href="#chapter2" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter2Menu" data-chapter="chapter2">
                        Chapitre 2
                    </a>
                    <div class="collapse chapter-menu" id="chapter2Menu">
                        <a href="Chapter2_1JEE.html" class="list-group-item list-group-item-action">La présentation de Java EE / Jakarta EE</a>
                        <a href="Chapter2_2JEE.html" class="list-group-item list-group-item-action">Architectures en Java EE</a>
                        <a href="Chapter2_3JEE.html" class="list-group-item list-group-item-action">Les conteneurs Java EE</a>
                        <a href="Chapter2_4JEE.html" class="list-group-item list-group-item-action">Les API de Java EE</a>
                        <a href="Chapter2_5JEE.html" class="list-group-item list-group-item-action">L'assemblage et le déploiement d'applications JavaEE</a>
                        <a href="Chapter2_Quiz.html" class="list-group-item list-group-item-action">Quiz</a>
                    </div>
                    <a href="#chapter3" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter3Menu" data-chapter="chapter3">
                        Chapitre 3
                    </a>
                    <div class="collapse chapter-menu" id="chapter3Menu">
                        <a href="Chapter3_1JEE.html" class="list-group-item list-group-item-action">Introduction aux Servlets</a>
                        <a href="#chapter3-2" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter3-2submenu" data-chapter="chapter3-2">
                            Servlet
                        </a>
                        <div class="collapse chapter-menu" id="chapter3-2submenu">
                            <a href="Chapter3_2_1JEE.html" class="list-group-item list-group-item-action">Cycle de vie d'une servlet</a>
                            <a href="Chapter3_2_2JEE.html" class="list-group-item list-group-item-action">Radiographie d'une première servlet</a>
                        </div>
                        <a href="#chapter3-3" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter3-3submenu" data-chapter="chapter3-3">
                            JSP
                        </a>
                        <div class="collapse chapter-menu" id="chapter3-3submenu">
                            <a href="Chapter3_3_1JEE.html" class="list-group-item list-group-item-action">Pourquoi une JSP?</a>
                            <a href="Chapter3_3_2JEE.html" class="list-group-item list-group-item-action">C'est quoi une JSP?</a>
                            <a href="Chapter3_3_3JEE.html" class="list-group-item list-group-item-action">Cycle de vie d'une JSP</a>
                            <a href="Chapter3_3_4JEE.html" class="list-group-item list-group-item-action">Radiographie d'un Script JSP</a>
                            <a href="Chapter3_3_5JEE.html" class="list-group-item list-group-item-action">Les balises de directive</a>
                        </div>
                        <a href="Chapter3_Quiz.html" class="list-group-item list-group-item-action">Quiz</a>
                    </div>
                    <a href="#chapter4" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter4Menu" data-chapter="chapter4">
                        Chapitre 4
                    </a>
                    <div class="collapse chapter-menu" id="chapter4Menu">
                        <a href="Chapter4_1JEE.html" class="list-group-item list-group-item-action">Présentation de MVC</a>
                        <a href="Chapter4_2JEE.html" class="list-group-item list-group-item-action">MVC et Java EE</a>
                        <a href="Chapter4_3JEE.html" class="list-group-item list-group-item-action">Collaboration entre JSP et servlets : l'interface requestdispatcher</a>
                        <a href="Chapter4_4JEE.html" class="list-group-item list-group-item-action">Transmission de données: les paramètres et les attributs</a>
                        <a href="Chapter4_5JEE.html" class="list-group-item list-group-item-action">Exemples d'applications du design pattern  MVC</a>
                        <a href="Chapter4_Quiz.html" class="list-group-item list-group-item-action">Quiz</a>
                    </div>
                    <a href="#chapter5" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter5Menu" data-chapter="chapter5">
                        Chapitre 5
                    </a>
                    <div class="collapse chapter-menu" id="chapter5Menu">
                        <a href="Chapter5_1JEE.html" class="list-group-item list-group-item-action">C'est quoi un Javabean</a>
                        <a href="Chapter5_2JEE.html" class="list-group-item list-group-item-action">Pourquoi le JavaBean ?</a>
                        <a href="Chapter5_3JEE.html" class="list-group-item list-group-item-action">Structure d'un Javabean</a>
                        <a href="Chapter5_4JEE.html" class="list-group-item list-group-item-action">Comment utiliser des beans ?</a>
                        <a href="Chapter5_5JEE.html" class="list-group-item list-group-item-action">Les Scopes d'un bean</a>
                        <a href="Chapter5_Quiz.html" class="list-group-item list-group-item-action">Quiz</a>
                    </div>
                    <a href="#chapter6" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter6Menu" data-chapter="chapter6">
                        Chapitre 6
                    </a>
                    <div class="collapse chapter-menu" id="chapter6Menu">
                        <a href="Chapter6_1JEE.html" class="list-group-item list-group-item-action">Les Taglibs et la JSTL</a>
                        <a href="Chapter6_Quiz.html" class="list-group-item list-group-item-action">Quiz</a>
                    </div>
                    <a href="#chapter7" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter7Menu" data-chapter="chapter7">
                        Testez-vous !
                    </a>
                    <div class="collapse chapter-menu" id="chapter7Menu">
                        <a href="Chapter7_testJEE.html" class="list-group-item list-group-item-action">Quiz JEE</a>
                    </div>
                </div>
                </div>
            </aside>
            <main class="col-md-9">
                <h2>Les Balises JSP</h2>
                <div class="section">
                    <h3>Les balises de commentaire :</h3>
                    <p>
                        Tout comme dans les langages Java et HTML, il est possible d'écrire des commentaires dans le code de vos pages JSP. Ils doivent être compris entre les balises <%-- et --%>. Ils sont uniquement destinés au(x) développeur(s), et ne sont donc pas visibles par l'utilisateur final dans la page HTML générée :
                    </p>
                    <p><code>&lt;%-- déclaration de variables -- %&gt;</code></p>
                </div>
            
                <div class="section">
                    <h3>Les balises de déclaration:</h3>
                    <p>
                        Format : 
                        <code>&lt;%!JavaCode%&gt;</code><br>
                        Syntaxe XML : 
                        <code>&lt;jsp:declaration&gt;Code Java&lt;/jsp:declaration&gt;</code>
                    </p>
                    <p>
                        Cette balise vous permet de déclarer une variable à l'intérieur d'une JSP. Cette déclaration se fait à l’aide des balises <code>&lt;%! …. %&gt;</code>. Il est possible d'effectuer plusieurs déclarations au sein d'un même bloc. 
                    </p>
                    <pre><code>
                        &lt;%! 
                            String lFilm [] = { "le grand bleu", "Jules et Jim", "La guerre du feu", "37°2 le matin" };
                            String lRealisateur [] = {"L. Besson", "F. Truffaut", "J.-J. Annaud", "J.-J. Beineix" }; 
                            String lAffiche="";
                            int i;
                        %&gt;
                    </code></pre>
                </div>
            
                <div class="section">
                    <h3>Les balises de scriptlets:</h3>
                    <p>
                        Format : 
                        <code>&lt;%CodeJava%&gt;</code><br>
                        Syntaxe XML : 
                        <code>&lt;jsp:scriptlet&gt;Code Java&lt;/jsp:scriptlet&gt;</code>
                    </p>
                    <p>
                        Derrière ce mot étrange, un mélange atroce entre "script" et "servlet", se cache simplement du code Java. Elle sert en effet à inclure du code Java au sein des pages HTML. 
                        Elle permet d’insérer à l’intérieur d’une page HTML toutes les instructions de type déclaration, test, boucle, et affichage décrites par le langage Java.
                    </p>
                    <pre><code>
                        &lt;% 
                            lAffiche = "&lt;table border=1&gt;"; 
                            lAffiche+= "&lt;TR&gt;&lt;TH&gt;+Réalisateur&lt;/TH&gt;&lt;TH&gt;Film&lt;/TH&gt;&lt;/TR&gt;"; 
                            for (i=0; i&lt; 4; i++) { 
                                lAffiche+= "&lt;TR&gt;&lt;TD&gt;"+lRealisateur[i]+"&lt;/TD&gt;"; 
                                lAffiche+= "&lt;TD&gt;"+lFilm[i]+"&lt;/TD&gt;&lt;/TR&gt;"; 
                            } 
                            lAffiche+= "&lt;/table&gt;"; 
                        %&gt;
                    </code></pre>
                </div>
            
                <div class="section">
                    <h3>Les balises d’expression</h3>
                    <p>
                        Format : 
                        <code>&lt;%= …. %&gt;</code><br>
                        Syntaxe XML : 
                        <code>&lt;jsp:expression&gt;Java Expression&lt;/jsp:expression&gt;</code>
                    </p>
                    <p>
                        La balise d'expression est en quelque sorte un raccourci de la scriptlet suivante : <code>&lt;% out.println("Bip bip !"); %&gt;</code> Elle retourne simplement le contenu d'une chaîne. 
                        <strong>NB :</strong> Une balise d’expression ne contient jamais de point-virgule.
                    </p>
                    <p>
                        Dans l’exemple précédent, la chaîne lAffiche contient les balises HTML ainsi que les noms des réalisateurs et des films. Cette liste de mots est stockée en mémoire mais n’est pas encore affichée par le navigateur. En insérant la chaîne lAffiche entre les balises <code>&lt;%=</code> et <code>%&gt;</code>, le contenu de la chaîne est envoyé au navigateur qui affiche un tableau.
                    </p>
                </div>
            
                <div class="section">
                    <h3>Les balises de directive :</h3>
                    <p>
                        Format :
                        <code>&lt;%@ directive attribut="valeur" %&gt;</code>
                    </p>
                    <p>
                        Les directives JSP permettent :
                        <ul>
                            <li>d'importer un package ;</li>
                            <li>d'inclure d'autres pages JSP ;</li>
                            <li>d'inclure des bibliothèques de balises (nous y reviendrons dans un prochain chapitre) ;</li>
                            <li>de définir des propriétés et informations relatives à une page JSP.</li>
                        </ul>
                        Pour généraliser, elles contrôlent comment le conteneur de servlets va gérer votre JSP. Il en existe trois : taglib, page et include. 
                        Elles sont toujours comprises entre les balises <code>&lt;%@</code> et <code>%&gt;</code>, et hormis la directive d'inclusion de page qui peut être placée n'importe où, elles sont à placer en tête de page JSP.
                    </p>
                </div>
            
                <div class="section">
                    <h3>Directive taglib</h3>
                    <p>Format : <code>&lt;%@ taglib uri="maTagLib.tld" prefix="tagExemple" %&gt;</code></p>
                </div>
            
                <div class="section">
                    <h3>Directive page</h3>
                    <p>
                        Format : 
                        <code>&lt;%@ page import="paquetage.classe" %&gt;</code> 
                        <code>&lt;%@ page  import="paquetage.classe1,...,paquetage.classeN" %&gt;</code>
                    </p>
                    <p>
                        La directive page définit des informations relatives à la page JSP. Voici par exemple comment importer des classes Java :
                    </p>
                    <pre><code>
                        &lt;%@ page import="java.util.*, java.net.*" %&gt;
                    </code></pre>
                    <p>
                        D'autres options sont utilisables via cette balise page, comme le contentType ou l'activation de la session.
                    </p>
                    <pre><code>
                        &lt;%@ page contentType="text/plain" %&gt;
                        &lt;%@ page session="true|false " %&gt;
                    </code></pre>
                </div>
            
                <div class="section">
                    <h3>Directive include</h3>
                    <p>
                        Format : 
                        <code>&lt;%@ include file="chemin relatif du fichier" %&gt;</code>
                    </p>
                    <p>
                        En pratique, il est très courant de découper littéralement une page web en plusieurs fragments, qui sont ensuite rassemblés dans la page finale à destination de l'utilisateur. Cela permet notamment de pouvoir réutiliser certains blocs dans plusieurs vues différentes.
                        Pour permettre un tel découpage, la Directive include permet d’inclure le contenu d'un autre fichier dans le fichier courant.
                    </p>
                    <pre><code>
                        &lt;%@ include file="/toto.html" %&gt; 
                    </code></pre>
                </div>
            
                <div class="section">
                    <h2>Les variables prédéfinies :</h2>
                    <p>
                        Quelques variables sont prédéfinies dans une page JSP, et peuvent donc être utilisées sans déclaration.
                        <ul>
                            <li><code>request</code> : contient une référence sur l’objet de type HttpServletRequest qui contient la requête à cette page. Les en-têtes HTTP sont disponibles au travers de cet objet.</li>
                            <li><code>response</code> : référence sur le flux sortant de la servlet. Une JSP ne touche en général pas explicitement au flux sortant. Il est possible de modifier l’en-tête HTTP via cet objet, y compris dans le corps de la page.</li>
                            <li><code>out</code> : Un Writer, utilisé pour envoyer des informations au client.</li>
                            <li><code>Session</code> : variable de type HttpSession. On peut donc lui attacher des objets, puisqu’une JSP est une servlet. Cette variable représente la session dans laquelle se trouve la requête.</li>
                            <li><code>application</code> : variable de type ServletContext, à laquelle on peut aussi attacher des objets. Cette variable modélise l'application web dans laquelle on se trouve.</li>
                        </ul>
                    </p>
                </div>
            
                <div class="section">
                    <h2>En résumé</h2>
                    <p>
                        Dans ce chapitre nous avons réussi à faire un simple servlet et une simple JSP, et nous avons compris comment ils sont exécutés. Dans le chapitre suivant, nous allons voir que les servlets ne servent pas à écrire du code Java dans des pages web, et démarrer avec des JSP pour des traitements complexes n’est pas pratique. En fait, la plateforme JEE implémente le pattern MVC.
                    </p>
                </div>
                <div class="navigation">
                    <a href="Chapter3_3_4JEE.html" class="btn btn-secondary">Précédent</a>
                </div>
            </main>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="../Resources/JS/sideBarOpen.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Learning</title>
    
    <link rel="stylesheet" href="../Resources/Bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../Resources/CSS/lessonpagesCSS.css">


</head>
<body>
    <header class="navbar navbar-expand-lg navbar-light">
        <div class="container d-flex justify-content-between align-items-center">
            <a href="../Index.html"><h1 class="site-name">Mon Apprentissage Interactif</h1></a>
            <nav>
                <ul class="navbar-nav justify-content-center">
                    <li class="nav-item">
                        <a class="nav-link text-purple" href="Chapter1_1JEE.html">Java Enterpirse Edition</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../asd&C/Chpater1_1asd&C.html">Adaptive Software Development & Programation C</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container mt-4">
        <div class="row">
            <aside class="col-md-3">
                <div class="list-group">
                    <a href="#chapter1" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter1Menu" data-chapter="chapter1">
                        Chapitre 1
                    </a>
                    <div class="collapse" id="chapter1Menu">
                        <a href="Chapter1_1JEE.html" class="list-group-item list-group-item-action">Présentation générale</a>
                        <a href="Chapter1_2JEE.html" class="list-group-item list-group-item-action">L'architecture 1-tiers</a>
                        <a href="Chapter1_3JEE.html" class="list-group-item list-group-item-action">L'architecture 2-tiers</a>
                        <a href="Chapter1_4JEE.html" class="list-group-item list-group-item-action">L'architecture 3-tiers</a>
                        <a href="Chapter1_5JEE.html" class="list-group-item list-group-item-action">L'architecture N-tiers</a>
                    </div>
                    <a href="#chapter2" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter2Menu" data-chapter="chapter2">
                        Chapitre 2
                    </a>
                    <div class="collapse" id="chapter2Menu">
                        <a href="Chapter2_1JEE.html" class="list-group-item list-group-item-action">La présentation de Java EE / Jakarta EE</a>
                        <a href="Chapter2_2JEE.html" class="list-group-item list-group-item-action">Architectures en Java EE</a>
                        <a href="Chapter2_3JEE.html" class="list-group-item list-group-item-action">Les conteneurs Java EE</a>
                        <a href="Chapter2_4JEE.html" class="list-group-item list-group-item-action">Les API de Java EE</a>
                        <a href="Chapter2_5JEE.html" class="list-group-item list-group-item-action">L'assemblage et le déploiement d'applications JavaEE</a>
                    </div>
                    <a href="#chapter3" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter3Menu" data-chapter="chapter3">
                        Chapitre 3
                    </a>
                    <div class="collapse" id="chapter3Menu">
                        <a href="Chapter3_1JEE.html" class="list-group-item list-group-item-action">Introduction aux Servlets</a>
                        <a href="#chapter3-2" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter3-2submenu" data-chapter="chapter3-2">
                            Servlet
                        </a>
                        <div class="collapse" id="chapter3-2submenu">
                            <a href="Chapter3_2_1JEE.html" class="list-group-item list-group-item-action">Cycle de vie d'une servlet</a>
                            <a href="Chapter3_2_2JEE.html" class="list-group-item list-group-item-action">Radiographie d'une première servlet</a>
                        </div>
                        <a href="#chapter3-3" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter3-3submenu" data-chapter="chapter3-3">
                            JSP
                        </a>
                        <div class="collapse" id="chapter3-3submenu">
                            <a href="Chapter3_3_1JEE.html" class="list-group-item list-group-item-action">Pourquoi une JSP?</a>
                            <a href="Chapter3_3_2JEE.html" class="list-group-item list-group-item-action">C'est quoi une JSP?</a>
                            <a href="Chapter3_3_3JEE.html" class="list-group-item list-group-item-action">Cycle de vie d'une JSP</a>
                            <a href="Chapter3_3_4JEE.html" class="list-group-item list-group-item-action">Radiographie d'un Script JSP</a>
                            <a href="Chapter3_3_5JEE.html" class="list-group-item list-group-item-action">Les balises de directive</a>
                        </div>
                    </div>
                    <a href="#chapter4" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter4Menu" data-chapter="chapter4">
                        Chapitre 4
                    </a>
                    <div class="collapse" id="chapter4Menu">
                        <a href="Chapter4_1JEE.html" class="list-group-item list-group-item-action">Présentation de MVC</a>
                        <a href="Chapter4_2JEE.html" class="list-group-item list-group-item-action">MVC et Java EE</a>
                        <a href="Chapter4_3JEE.html" class="list-group-item list-group-item-action">Collaboration entre JSP et servlets : l'interface requestdispatcher</a>
                        <a href="Chapter4_4JEE.html" class="list-group-item list-group-item-action">Transmission de données: les paramètres et les attributs</a>
                        <a href="Chapter4_5JEE.html" class="list-group-item list-group-item-action">Exemples d'applications du design pattern  MVC</a>
                    </div>
                    <a href="#chapter5" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter5Menu" data-chapter="chapter5">
                        Chapitre 5
                    </a>
                    <div class="collapse" id="chapter5Menu">
                        <a href="Chapter5_1JEE.html" class="list-group-item list-group-item-action">C'est quoi un Javabean</a>
                        <a href="Chapter5_2JEE.html" class="list-group-item list-group-item-action">Pourquoi le JavaBean ?</a>
                        <a href="Chapter5_3JEE.html" class="list-group-item list-group-item-action">Structure d'un Javabean</a>
                        <a href="Chapter5_4JEE.html" class="list-group-item list-group-item-action">Comment utiliser des beans ?</a>
                        <a href="Chapter5_5JEE.html" class="list-group-item list-group-item-action">Les Scopes d'un bean</a>
                    </div>
                    <a href="#chapter6" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter6Menu" data-chapter="chapter6">
                        Chapitre 6
                    </a>
                    <div class="collapse" id="chapter6Menu">
                        <a href="Chapter6_1JEE.html" class="list-group-item list-group-item-action">Les Taglibs et la JSTL</a>
                    </div>
                    <a href="#chapter7" class="list-group-item list-group-item-action" data-toggle="collapse" data-target="#chapter7Menu" data-chapter="chapter7">
                        Testez-vous !
                    </a>
                    <div class="collapse" id="chapter7Menu">
                        <a href="Chapter7_testJEE.html" class="list-group-item list-group-item-action">Quiz JEE</a>
                    </div>
                </div>
            </aside>

            <main class="col-md-9">
                <h2>Cycle de vie d'une JSP</h2>
                <div class="section">
                    <p>
                        Les JSP ont un cycle de vie un peu plus compliqué que les servlets. Cependant, aussi complexe soit ce cycle de vie, toutes nos JSP sortiront 
                        de leurs chrysalides afin de se transformer en servlets et être utilisées par le conteneur.
                    </p>
                    <img src="../Resources/Images/JEE/FigureIII-6 CorrespondanceJSP Servlet.png" alt="Figure III 6 : Correspondance JSP/Servlet" />
                    <span class="figure-caption">Figure III 6 : Correspondance JSP/Servlet</span>
                </div>
                <div class="section">
                    <h3>Exemple : Correspondance JSP/Servlet</h3>
                    <p><strong>JSP d’origine :</strong></p>
                    <pre><code>
                        &lt;h1&gt;Time on server&lt;/h1&gt;
                        &lt;p&gt; &lt;%= new java.util.Date() %&gt;&lt;/p&gt;
                        &lt;% baz(); %&gt;
                        &lt;%! private int accessCount = 0; %&gt;
                    </code></pre>
                
                    <p><strong>Servlet généré par Tomcat :</strong></p>
                    <pre><code>
                        public final class XXX_jsp 
                        extends org.apache.jasper.runtime.HttpJspBase 
                        implements org.apache.jasper.runtime.JspSourceDependent{ 
                            public void _jspService(HttpServletRequest request, 
                                                    HttpServletResponse response) 
                            throws java.io.IOException, ServletException{ 
                                response.setContentType("text/html"); 
                                JspWriter out = response.getWriter(); 
                                out.write("&lt;h1&gt;Time on server&lt;/h1&gt;\\r\\n"); 
                                out.write("&lt;p&gt;"); 
                                out.print(new java.util.Date()); 
                                out.write("&lt;/p&gt;\\r\\n"); 
                                baz(); 
                            } 
                            private int accessCount = 0;
                        }
                    </code></pre>
                </div>
                <div class="section">
                    <p>
                        Le cycle de vie d’une JSP ressemble très fortement à celui de la vie d'une servlet standard. Le schéma suivant représente 
                        le cycle de vie d'une JSP :
                    </p>
                    <img src="../Resources/Images/JEE/FigureIII-7 Cycle de vie dune JSP.png" alt="Figure III 7 : Cycle de vie d’une JSP" />
                    <span class="figure-caption">Figure III 7 : Cycle de vie d’une JSP</span>
                
                    <h4>Examinons un peu ce schéma :</h4>
                    <ol>
                        <li>Quelqu'un appelle une page JSP, via une URL ou en cliquant sur un lien.</li>
                        <li>La requête est dirigée vers le serveur de notre application.</li>
                        <li>Tomcat prend en charge la requête et s'aperçoit qu'une page JSP est demandée.</li>
                        <li>Il trouve ladite page et la convertit en fichier source Java, en servlet pour être exact.</li>
                        <li>Ladite servlet est compilée et mise en mémoire, enfin prête à l'utilisation.</li>
                        <li>La méthode <code>_jspInit()</code> est invoquée.</li>
                        <li>Tomcat crée un nouveau thread pour traiter la demande et invoque dans ce thread la méthode <code>_jspService()</code>.</li>
                        <li>Le résultat, une page entièrement constituée de code HTML, est retourné par Tomcat au demandeur de départ, le client.</li>
                    </ol>
                </div>
                <div class="navigation">
                    <a href="Chapter3_3_2JEE.html" class="btn btn-secondary">Précédent</a>
                    <a href="Chapter3_3_4JEE.html" class="btn btn-secondary">Suivant</a>
                </div>
            </main>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="../Resources/JS/sideBarOpen.js"></script>
</body>
</html>